## ADR : 중복 예약 방지 전략

### 결정
PostgreSQL의 `tstzrange`와 `EXCLUDE USING gist` 제약을 사용하여 동일 방의 예약 시간대가 겹치지 않도록 구현한다.


### 배경
동시성 환경에서 사용자가 같은 시간대에 동일한 회의실을 예약하려고 할 경우 데이터 무결성이 깨질 수 있음. 단순한 서비스 레이어 검증만으로는 병렬 요청 처리 시 중복 예약이 발생할 수 있음.

### 선택지
1. PostgreSQL의 EXCLUDE 제약 사용
2. JPA단에서 예약할 때 쓰기락 사용
3. 예약할 때 mysql과 유사한 갭락, 레코드락 역할하는 것을 찾아서 사용


### 결정
PostgreSQL에서 제공하는 기능이 해당 문제를 해결하는 데 가장 쉽고 간단하게 구현 가능하다고 생각하여
데이터베이스에서 제공하는 tstzrange + EXCLUDE USING gist 제약을 통해 동시성 제어

### 결과
- 데이터베이스에서 예약 시간 겹침을 강제하여 동시성 문제 방지
- 서비스단에서는 `DataIntegrityViolationException` 발생 시 사용자에게 “이미 예약된 시간대” 오류를 반환
- 트랜잭션 처리와 DB 제약으로 안전하게 예약 가능